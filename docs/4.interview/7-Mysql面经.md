<!--
 * @Author: 孙浩然
 * @Date: 2020-07-28 11:04:41
 * @LastEditors: 孙浩然
 * @LastEditTime: 2020-08-09 16:58:04
 * @FilePath: \docs\4.interview\7-Mysql面经.md
 * @博客地址: 个人博客，如果各位客官觉得不错，请点个赞，谢谢。[地址](https://codefool0307.github.io/Java-Point/#/)，如对源码有异议请在我的博客中提问
--> 

## myisam和innodb区别，为什么一个用聚簇索引一个用非聚簇索引 因为两个数据文件结果不一样


## 数据库索引，聚簇索引，非聚簇索引


## mysql引擎

## mysql引擎

## 聚集索引

## 表锁行锁


## 1. 联合索引
## 2.给一个语句，判断是否走索引
## 3.为什么范围查询不走索引
## 4. 慢查询怎么排查
## 5.除了索引还有什么优化的方向

## mysql索引下推，回表，cache机制

## 单个删和批量删的sql执行效率怎么样呢？

## mysql 索引介绍


## 如果判断一个用户id存在在一张表里面

## 数据库在什么情况下会发生死锁？

## 解决死锁的方法

## 数据库的隔离级别及解决的问题 怎么设置可串行化

## 聚簇索引和非聚簇索引 及使用的场景

## 数据库八股文和Mysql主从同步机制，binlog的原理

## Mysql主从同步机制，redo log和bin log的区别


# ACID特性

1. 原⼦性（Atomicity）：事务是最⼩的执⾏单位，不允许分割。事务的原⼦性确保动作要么全部完成，要么完全不起作⽤；
2. ⼀致性（Consistency）： 执⾏事务前后，数据保持⼀致，多个事务对同⼀个数据读取的结果是相同的；
3. 隔离性（Isolation）： 并发访问数据库时，⼀个⽤户的事务不被其他事务所⼲扰，各并发事务之间数据库是独⽴的；
4. 持久性（Durability）： ⼀个事务被提交之后。它对数据库中数据的改变是持久的，即使数据库发⽣故障也不应该对其有任何影响。

# MySQL引擎

## -1：你知道哪几种引擎
常用引擎有：

1. InnoDB

2. MyISAM

除此之外还有Memory

##  引擎区别

见书p63


## 索引类型

# mangodb和mysql

## -1：mangodb和mysql的区别

![avatar](http://code.clouddn.com/11-xxx.jpg)

## -2：mysql优缺点

优势：

在不同的引擎上有不同 的存储方式。

查询语句是使用传统的sql语句，拥有较为成熟的体系，成熟度很高。

开源数据库的份额在不断增加，mysql的份额页在持续增长。

   缺点：

在海量数据处理的时候效率会显著变慢。


## -3：mangodb优缺点

1. 快速
2. 高扩展
3. json存储格式
4. 主库遇到问题无法继续提供服务时，副本集选举一个主库继续提供服务
   
缺点：

不支持事务，而且开发文档不是很完全，完善。

## -4：mangodb一个文件相当于mysql的一个什么？

不知道



## mysql的四个隔离级别以及默认隔离级别

p57

## 那么MySQL可重复读是如何实现的呢？

使用的的一种叫MVCC的控制方式，多版本并发控制，类似于乐观锁的一种实现方式

实现方式：

InnoDB在每行记录后面保存两个隐藏的列来，分别保存了这个行的创建时间和行的删除时间。这里存储的并不是实际的时间值,而是系统版本号，当数据被修改时，版本号加1

在读取事务开始时，系统会给当前读事务一个版本号，事务会读取版本号<=当前版本号的数据

此时如果其他写事务修改了这条数据，那么这条数据的版本号就会加1，从而比当前读事务的版本号高，读事务自然而然的就读不到更新后的数据了

## 数据库的隔离级别，能否解决幻读，间隙锁如何生效


## 数据库的MVCC

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 


## 

## 

## 

## 